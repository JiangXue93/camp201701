<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>task 2</title>
</head>
<body>
	<input type="text" id="in">
	<input type="button" value="确定" onclick="getId()">
	<p>结果：<span id="result"></span></p>
</body>
<script type="text/javascript">
function getId(){
	var input1 = document.getElementById("in");//get value
	
	var strs= new Array(); //定义一数组 
	var reg=/，/;
	var strs = input1.value.split(reg); //字符分割 
	
	strs = unique2(strs);
	var result = strs.join("，");
	
	document.getElementById("result").innerHTML=result;
		
}
/*该方法执行的速度比其他任何方法都快， 就是占用的内存大一些，实现思路：新建一js对象以及新数组，遍历传入数组时，判断值是否为js对象的键，不是的话给对象新增该键并放入新数组。注意 点： 判断是否为js对象键时，会自动对传入的键执行“toString()”，不同的键可能会被误认为一样；例如： a[1]、a["1"] 。解决上述问题还是得调用“indexOf”。*/
function unique2(array){ 
var n = {}, r = [], len = array.length, val, type; 
for (var i = 0; i < array.length; i++) { 
	val = array[i]; 
	type = typeof val; 
	if (!n[val]) { 
		n[val] = [type]; 
		r.push(val); 
	} else if (n[val].indexOf(type) < 0) { 
		n[val].push(type); 
		r.push(val); 
	} 
} 
return r; 
}
</script>
</html>